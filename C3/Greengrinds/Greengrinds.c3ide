{"Id":"58b13aa4-c7ce-4c6c-b200-b61a618f94ea","Name":"Greengrinds","Class":"Greengrinds","Company":"open","Author":"open","Version":"0.0.1.0","Description":"Greenworks for Electron Greenworks user built","AddonFolder":"C:\\Users\\Dan Shimizu\\AppData\\Roaming\\C3IDE_DATA\\Server\\Test\\greengrinds","Type":0,"TypeName":"(Plugin)","IconXml":"<?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<!-- Generator: Adobe Illustrator 16.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->\r\n<!DOCTYPE svg PUBLIC \"-//W3C//DTD SVG 1.1//EN\" \"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd\">\r\n<svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\"\r\n\t width=\"1700.79004px\" height=\"1700.79004px\" viewBox=\"499 379 690 690\"\r\n\t enable-background=\"new 0 0 1700.79004 1700.79004\" xml:space=\"preserve\">\r\n<g id=\"bg\">\r\n\t<g>\r\n\t\t<g>\r\n\t\t\t<path fill-rule=\"evenodd\" clip-rule=\"evenodd\" fill=\"#D2E1F0\" d=\"M850.39453,860.66992\r\n\t\t\t\tc-50.35645,0-94.3252-27.35645-117.85254-68.02051l-80.03027,46.2041c-4.6543,2.68945-6.13086,8.71875-3.24805,13.25586\r\n\t\t\t\tC691.50098,918.5957,765.7959,962.7168,850.39453,962.7168c88.12598,0,165.07129-47.875,206.24316-119.03613l-80.48633-46.46973\r\n\t\t\t\tc-4.31445-2.49023-9.80273-1.20508-12.57129,2.93555C939.1748,836.64063,897.59082,860.66992,850.39453,860.66992\r\n\t\t\t\tL850.39453,860.66992z M1136.7207,559.2959c4.61426-2.66309,6.11035-8.61914,3.3125-13.15137\r\n\t\t\t\tc-59.91504-97.03027-167.22461-161.69434-289.63867-161.69434c-125.89355,0-235.81348,68.39258-294.63379,170.0498\r\n\t\t\t\tl80.37695,46.40625c4.39844,2.53906,10.00195,1.14941,12.71094-3.14551\r\n\t\t\t\tc42.16406-66.85156,116.66992-111.26367,201.5459-111.26367c88.12598,0,165.07129,47.87598,206.24316,119.03613\r\n\t\t\t\tL1136.7207,559.2959z\"/>\r\n\t\t\t<path fill-rule=\"evenodd\" clip-rule=\"evenodd\" fill=\"#96AAB9\" d=\"M850.39453,962.7168\r\n\t\t\t\tc-84.59863,0-158.89355-44.12109-201.13086-110.60742c-2.87695-4.53027-1.40039-10.57031,3.24805-13.25586l80.03027-46.2041\r\n\t\t\t\tc-11.58105-20.0166-18.20996-43.25488-18.20996-68.04199c0-74.78516,60.55762-136.0625,136.0625-136.0625\r\n\t\t\t\tc47.19629,0,88.78027,24.0293,113.18555,60.52246c2.76465,4.13379,8.26367,5.42188,12.57129,2.93555l80.48633-46.46973\r\n\t\t\t\tc-41.17188-71.16016-118.11719-119.03613-206.24316-119.03613c-84.87598,0-159.38184,44.41211-201.5459,111.26367\r\n\t\t\t\tc-2.70605,4.29102-8.31836,5.68164-12.71094,3.14551L555.76074,554.5c-28.95215,50.04004-45.52344,108.13965-45.52344,170.10742\r\n\t\t\t\tc0,186.96484,151.39453,340.1582,340.15723,340.1582c122.41406,0,229.72363-64.66406,289.63867-161.69531\r\n\t\t\t\tc2.7959-4.52734,1.29492-10.49023-3.3125-13.15234l-80.08301-46.2373\r\n\t\t\t\tC1015.46582,914.8418,938.52051,962.7168,850.39453,962.7168z\"/>\r\n\t\t</g>\r\n\t\t<path fill-rule=\"evenodd\" clip-rule=\"evenodd\" fill=\"#00E1C8\" d=\"M1137.18457,761.19141v-73.16797l-63.36523,36.58398\r\n\t\t\tL1137.18457,761.19141L1137.18457,761.19141z M1026.5752,708.24219l120.05859-69.31641\r\n\t\t\tc12.56836-7.25586,28.3457,1.85254,28.3457,16.36621v138.63086c0,14.5127-15.77734,23.62207-28.3457,16.36621\r\n\t\t\tl-120.05859-69.31641C1014.02734,733.72754,1014.02734,715.4873,1026.5752,708.24219z\"/>\r\n\t</g>\r\n</g>\r\n<g id=\"logo\">\r\n</g>\r\n</svg>","IconImage":"System.Windows.Media.Imaging.BitmapImage","CreateDate":"2019-02-13T23:49:55.538-08:00","LastModified":"2019-02-14T14:29:12.531-08:00","ChangeDate":"2019-02-14, 02:29","AddonJson":"{\r\n  \"is-c3-addon\": true,\r\n  \"type\": \"plugin\",\r\n  \"name\": \"Greengrinds\",\r\n  \"id\": \"open_Greengrinds\",\r\n  \"version\": \"0.0.1.0\",\r\n  \"author\": \"open\",\r\n  \"website\": \"https://www.construct.net\",\r\n  \"documentation\": \"https://www.construct.net\",\r\n  \"description\": \"Greenworks for Electron Greenworks user built\",\r\n  \"editor-scripts\": [\r\n    \"plugin.js\",\r\n    \"type.js\",\r\n    \"instance.js\"\r\n  ],\r\n  \"file-list\": [\r\n    \"c3runtime/domSide.js\",\r\n    \"c3runtime/plugin.js\",\r\n    \"c3runtime/type.js\",\r\n    \"c3runtime/instance.js\",\r\n    \"c3runtime/conditions.js\",\r\n    \"c3runtime/actions.js\",\r\n    \"c3runtime/expressions.js\",\r\n    \"lang/en-US.json\",\r\n    \"aces.json\",\r\n    \"addon.json\",\r\n    \"icon.svg\",\r\n    \"instance.js\",\r\n    \"plugin.js\",\r\n    \"type.js\"\r\n  ]\r\n}","PluginEditTime":"\"use strict\";\r\n(function() {\r\n\r\n\tconst PLUGIN_ID = \"open_Greengrinds\";\t\r\n\tconst PLUGIN_VERSION = \"0.0.1.0\";\r\n\tconst PLUGIN_CATEGORY = \"general\";\r\n\r\n\tlet app = null;\r\n\t\r\n\tconst PLUGIN_CLASS = SDK.Plugins.open_Greengrinds = class GreengrindsPlugin extends SDK.IPluginBase\r\n\t{\r\n\t\tconstructor()\r\n\t\t{\r\n\t\t\tsuper(PLUGIN_ID);\r\n\t\t\t\r\n\t\t\tSDK.Lang.PushContext(\"plugins.\" + PLUGIN_ID.toLowerCase());\r\n\t\t\t\r\n\t\t\tthis._info.SetName(lang(\".name\"));\r\n\t\t\tthis._info.SetDescription(lang(\".description\"));\r\n\t\t\tthis._info.SetVersion(PLUGIN_VERSION);\r\n\t\t\tthis._info.SetCategory(PLUGIN_CATEGORY);\r\n\t\t\tthis._info.SetAuthor(\"open\");\r\n\t\t\tthis._info.SetHelpUrl(lang(\".help-url\"));\r\n\t\t\tthis._info.SetIsSingleGlobal(true);\r\n\r\n\t\t\tthis._info.SetSupportedRuntimes([\"c3\"]);\r\n\t\t\tthis._info.SetDOMSideScripts([\"c3runtime/domSide.js\"]);\r\n\t\t\t\r\n\t\t\tSDK.Lang.PushContext(\".properties\");\r\n\t\r\n\t\t\tthis._info.SetProperties([\r\n\r\n\t\t\t]);\r\n\t\t\t\r\n            SDK.Lang.PopContext(); //.properties\r\n\t\t\tSDK.Lang.PopContext();\r\n\t\t}\r\n\t};\r\n\t\r\n\tPLUGIN_CLASS.Register(PLUGIN_ID, PLUGIN_CLASS);\r\n}());","PluginRunTime":"\"use strict\";\r\n{\r\n\tC3.Plugins.open_Greengrinds = class GreengrindsPlugin extends C3.SDKPluginBase\r\n\t{\r\n\t\tconstructor(opts)\r\n\t\t{\r\n\t\t\tsuper(opts);\r\n\t\t}\r\n\t\t\r\n\t\tRelease()\r\n\t\t{\r\n\t\t\tsuper.Release();\r\n\t\t}\r\n\t};\r\n}","TypeEditTime":"\"use strict\";\r\n(function()\r\n{\r\n\tconst PLUGIN_CLASS = SDK.Plugins.open_Greengrinds;\r\n\t\r\n\tPLUGIN_CLASS.Type = class GreengrindsType extends SDK.ITypeBase\r\n\t{\r\n\t\tconstructor(sdkPlugin, iObjectType)\r\n\t\t{\r\n\t\t\tsuper(sdkPlugin, iObjectType);\r\n\t\t}\r\n\t};\r\n}());","TypeRunTime":"\"use strict\";\r\n{\r\n\tC3.Plugins.open_Greengrinds.Type = class GreengrindsType extends C3.SDKTypeBase\r\n\t{\r\n\t\tconstructor(objectClass)\r\n\t\t{\r\n\t\t\tsuper(objectClass);\r\n\t\t}\r\n\t\t\r\n\t\tRelease()\r\n\t\t{\r\n\t\t\tsuper.Release();\r\n\t\t}\r\n\t\t\r\n\t\tOnCreate()\r\n\t\t{\t\r\n\t\t}\r\n\t};\r\n}","InstanceEditTime":"\"use strict\";\r\n(function()\r\n{\r\n\tconst PLUGIN_CLASS = SDK.Plugins.open_Greengrinds;\r\n\t\r\n\tPLUGIN_CLASS.Instance = class GreengrindsInstance extends SDK.IInstanceBase\r\n\t{\r\n\t\tconstructor(sdkType, inst)\r\n\t\t{\r\n\t\t\tsuper(sdkType, inst);\r\n\t\t}\r\n\t\t\r\n\t\tRelease()\r\n\t\t{\r\n\t\t}\r\n\t\t\r\n\t\tOnCreate()\r\n\t\t{\r\n\t\t}\r\n\t\t\r\n\t\tOnPropertyChanged(id, value)\r\n\t\t{\r\n\t\t}\r\n\t\t\r\n\t\tLoadC2Property(name, valueString)\r\n\t\t{\r\n\t\t\treturn false;\t\t// not handled\r\n\t\t}\r\n\t};\r\n}());","InstanceRunTime":"\"use strict\";\r\n\r\n{\r\n\tconst DOM_COMPONENT_ID = \"greenworks\";\r\n\t\r\n\tC3.Plugins.open_Greengrinds.Instance = class GreenworksInstance extends C3.SDKInstanceBase\r\n\t{\r\n\t\tconstructor(inst, properties)\r\n\t\t{\r\n\t\t\tconsole.log(\"*** INFO *** instance.js started\");\r\n\t\t\tsuper(inst, DOM_COMPONENT_ID);\r\n\t\t\t\r\n\t\t\tthis._isAvailable = false;\r\n\t\t\tthis._isGameOverlayEnabled = false;\r\n\t\t\t\r\n\t\t\tthis._accountId = 0;\r\n\t\t\tthis._staticAccountId = \"\";\t\t// string because is 64-bit number\r\n\t\t\tthis._screenName = \"\";\r\n\t\t\tthis._level = 0;\r\n\t\t\tthis._gameLang = \"\";\r\n\t\t\tthis._uiLang = \"\";\r\n\t\t\t\r\n\t\t\tthis.AddDOMMessageHandlers([\r\n\t\t\t\t[\"game-overlay-activated\", e => this._OnGameOverlayActivated(e)]\r\n\t\t\t]);\r\n\t\t\t\r\n\t\t\t// Get initial state from DOM. Make runtime loading wait for the response.\r\n\t\t\tthis._runtime.AddLoadPromise(\r\n\t\t\t\tthis.PostToDOMAsync(\"load\")\r\n\t\t\t\t.then(data =>\r\n\t\t\t\t{\r\n\t\t\t\t\tthis._isAvailable = data[\"isAvailable\"];\r\n\t\t\t\t\tthis._isGameOverlayEnabled = data[\"isGameOverlayEnabled\"];\r\n\t\t\t\t\t\r\n\t\t\t\t\tthis._accountId = data[\"accountId\"];\r\n\t\t\t\t\tthis._staticAccountId = data[\"staticAccountId\"];\r\n\t\t\t\t\tthis._screenName = data[\"screenName\"];\r\n\t\t\t\t\tthis._level = data[\"level\"];\r\n\t\t\t\t\tthis._gameLang = data[\"gameLang\"];\r\n\t\t\t\t\tthis._uiLang = data[\"uiLang\"];\r\n\t\t\t\t})\r\n\t\t\t);\r\n\t\t}\r\n\t\t\r\n\t\tRelease()\r\n\t\t{\r\n\t\t\tsuper.Release();\r\n\t\t}\r\n\t\t\r\n\t\t_OnGameOverlayActivated(e)\r\n\t\t{\r\n\t\t\tif (e[\"isActive\"])\r\n\t\t\t\tthis.Trigger(C3.Plugins.open_Greengrinds.Cnds.OnOverlayActivated);\r\n\t\t\telse\r\n\t\t\t\tthis.Trigger(C3.Plugins.open_Greengrinds.Cnds.OnOverlayDeactivated);\r\n\t\t}\r\n\t};\r\n\t\r\n}","LanguageProperties":"\"properties\": {}","LanguageCategories":"\"aceCategories\": {\r\n    \"steam\" : \"value\",\n    \"user-info\" : \"value\"\r\n}","EffectLanguage":null,"EffectCode":null,"Categories":["steam","user-info"],"Actions":{"activate-achievement":{"Id":"activate-achievement","Category":"steam","ScriptName":"ActivateAchievement","Ace":"{\r\n  \"id\": \"activate-achievement\",\r\n  \"scriptName\": \"ActivateAchievement\",\r\n  \"highlight\": true,\r\n  \"params\": [\r\n    {\r\n      \"id\": \"achievement\",\r\n      \"type\": \"string\"\r\n    }\r\n  ]\r\n}","DisplayText":"Activate achievement [b]{0}[/b]","Description":"Activate a Steam achievement.","Highlight":"true","Language":"\"activate-achievement\": {\r\n\t\"list-name\": \"activate-achievement\",\r\n\t\"display-text\": \"Activate achievement [b]{0}[/b]\",\r\n\t\"description\": \"Activate a Steam achievement.\",\r\n\t\"params\": {\r\n        \"achievement\": {\r\n            \"name\": \"Achievement\",\r\n            \"desc\": \"API name of the achievement.\"\r\n        }\r\n    }\r\n}","Code":"ActivateAchievement(achievement)\r\n{\r\n\t\t\tif (!this._isAvailable)\r\n\t\t\t\treturn;\r\n\t\t\t\r\n\t\t\tthis.PostToDOMAsync(\"activate-achievement\", {\r\n\t\t\t\t\"achievement\": achievement\r\n\t\t\t})\r\n\t\t\t.then(() =>\r\n\t\t\t{\r\n\t\t\t\tthis.Trigger(C3.Plugins.open_Greengrinds.Cnds.OnAchievementActivateSuccess);\r\n\t\t\t})\r\n\t\t\t.catch(err =>\r\n\t\t\t{\r\n\t\t\t\tconsole.warn(\"[Construct 3] Greenworks: error activating achievement: \", err);\r\n\t\t\t\t\r\n\t\t\t\tthis.Trigger(C3.Plugins.open_Greengrinds.Cnds.OnAchievementActivateError);\r\n\t\t\t});\t//implementation\r\n}","ListName":"activate-achievement"},"activate-overlay":{"Id":"activate-overlay","Category":"steam","ScriptName":"ActivateOverlay","Ace":"{\r\n  \"id\": \"activate-overlay\",\r\n  \"scriptName\": \"ActivateOverlay\",\r\n  \"highlight\": false,\r\n  \"params\": [\r\n    {\r\n      \"id\": \"param-id\",\r\n      \"type\": \"combo\",\r\n      \"items\": [\r\n\"friends\", \"community\", \"players\", \"settings\", \"official-game-group\", \"stats\", \"achievements\"\r\n      ]\r\n    }\r\n  ]\r\n}","DisplayText":"Activate overlay for [b]{0}[/b]","Description":"Activate the Steam game overlay.","Highlight":"false","Language":"\"activate-overlay\": {\r\n\t\"list-name\": \"Activate overlay\",\r\n\t\"display-text\": \"Activate overlay for [b]{0}[/b]\",\r\n\t\"description\": \"Activate the Steam game overlay.\",\r\n\t\"params\": {\r\n        \"param-id\": {\r\n            \"name\": \"Option\",\r\n            \"desc\": \"The overlay section to display.\",\n            \"items\":{\n\t\t\t\t\t\t\t\t\t\"friends\": \"Friends\",\n\t\t\t\t\t\t\t\t\t\"community\": \"Community\",\n\t\t\t\t\t\t\t\t\t\"players\": \"Players\",\n\t\t\t\t\t\t\t\t\t\"settings\": \"Settings\",\n\t\t\t\t\t\t\t\t\t\"official-game-group\": \"Official Game Group\",\n\t\t\t\t\t\t\t\t\t\"stats\": \"Stats\",\n\t\t\t\t\t\t\t\t\t\"achievements\": \"Achievements\"\n            }\r\n        }\r\n    }\r\n}","Code":"ActivateOverlay(option)\r\n{\r\n\t\t\tif (!this._isAvailable)\r\n\t\t\t\treturn;\r\n\t\t\t\r\n\t\t\tthis.PostToDOM(\"activate-overlay\", {\r\n\t\t\t\t\"option\": OVERLAY_OPTIONS[option]\r\n\t\t\t});\r\n}","ListName":"Activate overlay"}},"Conditions":{"on-overlay-activated":{"Id":"on-overlay-activated","Category":"steam","ListName":"On overlay activated","ScriptName":"OnOverlayActivated","Ace":"{\r\n\t\"id\": \"on-overlay-activated\",\r\n\t\"scriptName\": \"OnOverlayActivated\",\r\n\t\"highlight\": false,\n\t\"isTrigger\": true\r\n}","DisplayText":"On overlay activated","Description":"Triggered when the game overlay is shown.","Highlight":"false","Language":"\"on-overlay-activated\": {\r\n\t\"list-name\": \"On overlay activated\",\r\n\t\"display-text\": \"On overlay activated\",\r\n\t\"description\": \"Triggered when the game overlay is shown.\"\r\n}","Code":"OnOverlayActivated()\r\n{\r\n\t\t\treturn true;\r\n}","Trigger":"true","FakeTrigger":"false","Static":"false","Looping":"false","Invertible":"true","TriggerCompatible":"true"},"on-overlay-deactivated":{"Id":"on-overlay-deactivated","Category":"steam","ListName":"On overlay deactivated","ScriptName":"OnOverlayDeactivated","Ace":"{\r\n\t\"id\": \"on-overlay-deactivated\",\r\n\t\"scriptName\": \"OnOverlayDeactivated\",\r\n\t\"highlight\": false,\n\t\"isTrigger\": true\r\n}","DisplayText":"On overlay deactivated","Description":"Triggered when the game overlay is hidden.","Highlight":"false","Language":"\"on-overlay-deactivated\": {\r\n\t\"list-name\": \"On overlay deactivated\",\r\n\t\"display-text\": \"On overlay deactivated\",\r\n\t\"description\": \"Triggered when the game overlay is hidden.\"\r\n}","Code":"OnOverlayDeactivated()\r\n{\r\n\t\t\treturn true;\r\n}","Trigger":"true","FakeTrigger":"false","Static":"false","Looping":"false","Invertible":"true","TriggerCompatible":"true"},"on-achievement-activate-success":{"Id":"on-achievement-activate-success","Category":"steam","ListName":"On achievement activate success","ScriptName":"OnAchievementActivateSuccess","Ace":"{\r\n\t\"id\": \"on-achievement-activate-success\",\r\n\t\"scriptName\": \"OnAchievementActivateSuccess\",\r\n\t\"highlight\": false,\n\t\"isTrigger\": true\r\n}","DisplayText":"On achievement activate success","Description":"Triggered after 'Activate achievement' if the activation completed successfully.","Highlight":"false","Language":"\"on-achievement-activate-success\": {\r\n\t\"list-name\": \"On achievement activate success\",\r\n\t\"display-text\": \"On achievement activate success\",\r\n\t\"description\": \"Triggered after 'Activate achievement' if the activation completed successfully.\"\r\n}","Code":"OnAchievementActivateSuccess()\r\n{\r\n\t\t\treturn true;\r\n}","Trigger":"true","FakeTrigger":"false","Static":"false","Looping":"false","Invertible":"true","TriggerCompatible":"true"},"on-achievement-activate-error-id":{"Id":"on-achievement-activate-error-id","Category":"steam","ListName":"On achievement activate error","ScriptName":"OnAchievementActivateErrorId","Ace":"{\r\n\t\"id\": \"on-achievement-activate-error-id\",\r\n\t\"scriptName\": \"OnAchievementActivateErrorId\",\r\n\t\"highlight\": false,\n\t\"isTrigger\": true\r\n}","DisplayText":"On achievement activate error","Description":"Triggered after 'Activate achievement' if the activation failed.","Highlight":"false","Language":"\"on-achievement-activate-error-id\": {\r\n\t\"list-name\": \"On achievement activate error\",\r\n\t\"display-text\": \"On achievement activate error\",\r\n\t\"description\": \"Triggered after 'Activate achievement' if the activation failed.\"\r\n}","Code":"OnAchievementActivateErrorId()\r\n{\r\n\t\t\treturn true;\r\n}","Trigger":"true","FakeTrigger":"false","Static":"false","Looping":"false","Invertible":"true","TriggerCompatible":"true"}},"Expressions":{"screen-name":{"Id":"screen-name","Category":"user-info","ScriptName":"ScreenName","IsVariadicParameters":"screenname","Ace":"{\r\n\t\"id\": \"screen-name\",\r\n\t\"expressionName\": \"ScreenName\",\r\n\t\"returnType\": \"string\"\r\n}","TranslatedName":"ScreenName","Description":"The current user's Steam screen name.","ReturnType":"string","Language":"\"screen-name\": { \r\n\t\"translated-name\": \"ScreenName\",\r\n\t\"description\": \"The current user's Steam screen name.\"\r\n}","Code":"ScreenName()\r\n{\r\n\t\t\treturn this._screenName;\r\n}"}},"ThirdPartyFiles":{"domSide.js":{"FileName":"domSide.js","Content":"\"use strict\";\r\n\r\n{\r\n\tconst DOM_COMPONENT_ID = \"greenworks\";\r\n\r\n\tconst HANDLER_CLASS = class GreenworksDOMHandler extends DOMHandler\r\n\t{\r\n\t\tconstructor(iRuntime)\r\n\t\t{\r\n\t\t\tsuper(iRuntime, DOM_COMPONENT_ID);\r\n\t\t\t\r\n\t\t\tthis._isNWjs = (iRuntime.GetExportType() === \"nwjs\");\r\n\t\t\tvar userAgent = navigator.userAgent.toLowerCase();\r\n\t\t\tthis._isElectron = (userAgent.indexOf(' electron/') > -1);\r\n\t\t\tthis._isAvailable = false;\r\n\t\t\t\r\n\t\t\tthis._greenworks = null;\r\n\t\t\tthis._steamId = null;\r\n\t\t\t\r\n\t\t\tthis.AddRuntimeMessageHandlers([\r\n\t\t\t\t[\"load\", e => this._Load(e)],\r\n\t\t\t\t[\"activate-achievement\", e => this._OnActivateAchievement(e)],\r\n\t\t\t\t[\"activate-overlay\", e => this._OnActivateOverlay(e)]\r\n\t\t\t]);\r\n\t\t}\r\n\t\t\r\n\t\t_Load(e)\r\n\t\t{\r\n\t\t\tif (this._isNWjs || this._isElectron)\r\n\t\t\t{\r\n\t\t\t\ttry {\r\n\t\t\t\t\tif (this._isNWjs)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tthis._greenworks = require(\"./greenworks\");\r\n\t\t\t\t\t} else\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tconsole.log(\"*** INFO *** domSide.js require(greenworks)\");\r\n\t\t\t\t\t\tthis._greenworks = require(\"greenworks\");\r\n\t\t\t\t\t\tconsole.log(\"*** INFO *** domSide.js require(greenworks) result: \"+this._greenworks);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis._greenworks[\"init\"]();\r\n\t\t\t\t\tthis._isAvailable = true;\r\n\t\t\t\t\t\r\n\t\t\t\t\tthis._steamId = this._greenworks[\"getSteamId\"]();\r\n\t\t\t\t\tif (this._greenworks[\"on\"])\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tthis._greenworks[\"on\"](\"game-overlay-activated\", isActive =>\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tthis.PostToRuntime(\"game-overlay-activated\", {\r\n\t\t\t\t\t\t\t\t\"isActive\": !!isActive\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tcatch (err)\r\n\t\t\t\t{\r\n\t\t\t\t\tthis._greenworks = null;\r\n\t\t\t\t\tthis._isAvailable = false;\r\n\t\t\t\t\tconsole.error(\"[Construct 3] Failed to load Greenworks: \", err);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn {\r\n\t\t\t\t\"isAvailable\": this._isAvailable,\r\n\t\t\t\t\"isGameOverlayEnabled\": (this._isAvailable ? !!this._greenworks[\"isGameOverlayEnabled\"]() : false),\r\n\t\t\t\t\"accountId\": (this._steamId ? this._steamId[\"accountId\"] : 0),\r\n\t\t\t\t\"staticAccountId\": (this._steamId ? this._steamId[\"staticAccountId\"].toString() : \"\"),\r\n\t\t\t\t\"screenName\": (this._steamId ? this._steamId[\"screenName\"] : \"\"),\r\n\t\t\t\t\"level\": (this._steamId ? this._steamId[\"level\"] : 0),\r\n\t\t\t\t\"gameLang\": (this._greenworks ? this._greenworks[\"getCurrentGameLanguage\"]() : \"\"),\r\n\t\t\t\t\"uiLang\": (this._greenworks ? this._greenworks[\"getCurrentUILanguage\"]() : \"\")\r\n\t\t\t};\r\n\t\t}\r\n\t\t\r\n\t\t_OnActivateAchievement(e)\r\n\t\t{\r\n\t\t\treturn new Promise((resolve, reject) =>\r\n\t\t\t{\r\n\t\t\t\tthis._greenworks[\"activateAchievement\"](e[\"achievement\"], resolve, reject);\r\n\t\t\t});\r\n\t\t}\r\n\t\t\r\n\t\t_OnActivateOverlay(e)\r\n\t\t{\r\n\t\t\tthis._greenworks[\"activateGameOverlay\"](e[\"option\"]);\r\n\t\t}\r\n\t};\r\n\r\n\tRuntimeInterface.AddDOMHandlerClass(HANDLER_CLASS);\r\n}","PluginTemplate":"{\r\n\tfilename: \"c3runtime/domSide.js\",\r\n\ttype: \"inline-script\"\r\n}"}}}